# 项目目录

## 任务描述
- 当前用户有一个较大的文档集合，希望开发一个智能AI对话系统，能快速帮助用户从中找到所需的信息。
- 用户以自然语言提问的形式进行查询，AI系统给出相应回答。
- 数据来源：[Hugging Face 数据集](https://huggingface.co/datasets/TommyChien/UltraDomain/tree/main) (不包含 `mix` 数据)。

## 要求产出
1. 提供整体方案调研/设计报告及详细实现报告。
2. 提供效果评测方案，进行评测并给出分析。
3. 提供源码实现（GitHub 项目链接：[项目链接](https://github.com/1190400614/RAG)）。

## 方案调研
- **背景**：主流大模型对离线数据和非公开数据的掌握有限，数据安全问题使企业难以上传私域数据。
- **方案**：基于 RAG（检索+生成），通过检索获得相关知识并融入 Prompt，以生成合适的答案。

## 方案设计
- RAG 核心流程：
  - 数据准备：数据提取 → 文本分割 → 向量化（embedding）→ 数据入库（优化存储）。
  - 应用：模型输入 → 数据检索（基于相似度）→ Prompt 注入 → Token 生成 → LLM 生成答案。
  - 评估：无提示 answer、数据集 answer、检索增强生成模型 answer。

## 详细实现
1. **数据准备阶段**
   - 文本分割：使用 `nltk` 的 `sent_tokenize` 函数进行句子分割。
   - 清理与过滤：使用 `re` 库的正则表达式规则清除不合格句子。
   - 去重：利用 Python `set` 数据结构存储句子哈希值，清除重复句。
   - 向量化：采用 BAAI/bge-m3 向量模型，支持多语言和长文本检索，支持8192字符长文本。
   
2. **应用阶段**
   - 采用大语言模型 Qwen/Qwen2.5-1.5B-Instruct，通过高效检索机制生成回答。

## 评估阶段
1. **质量分数评估**
   - 上下文相关性
   - 答案真实性
   - 答案相关性

2. **基本能力评估**
   - 噪声鲁棒性
   - 负面拒绝
   - 信息集成

3. **性能测评**
4. **零样本与少样本能力测评**

## 评估实现与分析
- 零样本、少样本及多样本的答案对比。
- 文本分割和向量匹配表现良好，但向量化过程计算资源消耗较大。

## 源码实现
- GitHub 链接：[https://github.com/1190400614/RAG](https://github.com/1190400614/RAG)
